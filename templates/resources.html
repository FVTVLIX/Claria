{% extends "base.html" %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <header style="text-align: center; margin-bottom: 3rem;">
        <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">The Grimoire</h1>
        <p class="text-muted" style="font-size: 1.1rem; max-width: 600px; margin: 0 auto;">
            A collection of tools, guides, and lifelines for your journey.
            Remember: reaching out is an act of courage, not weakness.
        </p>
    </header>

    <!-- CRITICAL SUPPORT SECTION -->
    <section style="margin-bottom: 4rem;">
        <div class="card"
            style="border-left: 6px solid #ff7675; background: linear-gradient(to right, rgba(255, 118, 117, 0.05), transparent);">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                <div
                    style="background: #ff7675; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-phone-volume"></i>
                </div>
                <h2 style="margin: 0; color: #d63031;">Crisis Support</h2>
            </div>

            <p style="margin-bottom: 2rem; font-size: 1.1rem;">
                If you are in immediate danger, please call <strong>911</strong> (US) or your local emergency number
                immediately.
            </p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <!-- USA -->
                <div>
                    <h3
                        style="font-family: var(--font-mono); font-size: 1rem; color: var(--text-muted); margin-bottom: 1rem;">
                        UNITED STATES</h3>
                    <div
                        style="background: #fff; padding: 1.5rem; border-radius: 12px; border: 1px solid #ffcccc; margin-bottom: 1rem;">
                        <h4 style="margin: 0 0 0.5rem 0;">988 Suicide & Crisis Lifeline</h4>
                        <p style="font-size: 0.9rem; margin-bottom: 1rem;">24/7, free, and confidential support.</p>
                        <div style="display: flex; gap: 1rem;">
                            <a href="tel:988" class="btn-primary"
                                style="background-color: #d63031; border-color: #d63031; font-size: 0.9rem;">
                                <i class="fa-solid fa-phone"></i> Call 988
                            </a>
                            <a href="sms:988" class="btn-secondary" style="font-size: 0.9rem;">
                                <i class="fa-solid fa-comment"></i> Text 988
                            </a>
                        </div>
                    </div>

                    <div style="background: #fff; padding: 1.5rem; border-radius: 12px; border: 1px solid #ffcccc;">
                        <h4 style="margin: 0 0 0.5rem 0;">Crisis Text Line</h4>
                        <p style="font-size: 0.9rem; margin-bottom: 1rem;">Text with a trained Crisis Counselor.</p>
                        <a href="sms:741741&body=HOME" class="btn-secondary" style="width: 85%; text-align: center;">
                            Text <strong>HOME</strong> to <strong>741741</strong>
                        </a>
                    </div>
                </div>

                <!-- International -->
                <div>
                    <h3
                        style="font-family: var(--font-mono); font-size: 1rem; color: var(--text-muted); margin-bottom: 1rem;">
                        INTERNATIONAL DIRECTORY</h3>
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <span>ðŸ‡¬ðŸ‡§ <strong>UK</strong> (Samaritans)</span>
                            <a href="tel:116123" style="font-weight: bold; color: var(--primary-color);">116 123</a>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <span>ðŸ‡¨ðŸ‡¦ <strong>Canada</strong></span>
                            <a href="tel:988" style="font-weight: bold; color: var(--primary-color);">9-8-8</a>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <span>ðŸ‡¦ðŸ‡º <strong>Australia</strong> (Lifeline)</span>
                            <a href="tel:131114" style="font-weight: bold; color: var(--primary-color);">13 11 14</a>
                        </div>
                        <div style="margin-top: 0.5rem;">
                            <a href="https://findahelpline.com/" target="_blank"
                                style="font-size: 0.9rem; text-decoration: underline; color: var(--text-muted);">
                                Find a helpline in another country &rarr;
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- What to Expect Accordion -->
            <div style="margin-top: 2rem; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 2rem;">
                <details style="cursor: pointer;">
                    <summary style="font-weight: bold; color: #d63031; list-style: none; user-select: none;">
                        <i class="fa-solid fa-circle-question" style="margin-right: 0.5rem;"></i> What happens when I
                        call?
                    </summary>
                    <div
                        style="padding: 1rem; background: #fff5f5; border-radius: 8px; margin-top: 1rem; font-size: 0.95rem;">
                        <ol style="margin: 0; padding-left: 1.5rem;">
                            <li style="margin-bottom: 0.5rem;"><strong>Automated Message:</strong> You'll hear a brief
                                automated message with options (e.g., press 1 for Veterans).</li>
                            <li style="margin-bottom: 0.5rem;"><strong>Hold Music:</strong> You might wait for a minute
                                while finding an available counselor.</li>
                            <li style="margin-bottom: 0.5rem;"><strong>Connection:</strong> A trained counselor (not
                                necessarily a therapist) will answer. They will listen, support, and help you determine
                                next steps.</li>
                            <li><strong>Confidentiality:</strong> Calls are confidential. They will only involve
                                emergency services if they believe you are in immediate danger of acting on suicidal
                                thoughts.</li>
                        </ol>
                    </div>
                </details>
            </div>
        </div>
    </section>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">

        <!-- SPECIALIZED SUPPORT -->
        <div class="card">
            <h3><i class="fa-solid fa-heart-pulse" style="color: #e84393;"></i> Specialized Support</h3>
            <p style="margin-bottom: 1.5rem;">Communities tailored to your identity.</p>

            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 1.5rem;">
                    <div style="font-weight: bold; margin-bottom: 0.2rem;">The Trevor Project (LGBTQ+)</div>
                    <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem;">Crisis intervention
                        for LGBTQ youth.</p>
                    <div style="display: flex; gap: 0.5rem;">
                        <a href="tel:18664887386" class="suggestion-chip" style="font-size: 0.8rem;">Call</a>
                        <a href="sms:678678&body=START" class="suggestion-chip" style="font-size: 0.8rem;">Text
                            'START'</a>
                    </div>
                </li>
                <li style="margin-bottom: 1.5rem;">
                    <div style="font-weight: bold; margin-bottom: 0.2rem;">Trans Lifeline</div>
                    <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem;">Run by trans people,
                        for trans people.</p>
                    <a href="tel:18775658860" class="suggestion-chip" style="font-size: 0.8rem;">Call 1-877-565-8860</a>
                </li>
                <li>
                    <div style="font-weight: bold; margin-bottom: 0.2rem;">Veterans Crisis Line</div>
                    <div style="display: flex; gap: 0.5rem;">
                        <a href="tel:988" class="suggestion-chip" style="font-size: 0.8rem;">Dial 988 (Press 1)</a>
                        <a href="sms:838255" class="suggestion-chip" style="font-size: 0.8rem;">Text 838255</a>
                    </div>
                </li>
            </ul>
        </div>

        <!-- PROFESSIONAL HELP -->
        <div class="card">
            <h3><i class="fa-solid fa-user-doctor" style="color: var(--primary-color);"></i> Find a Professional</h3>
            <p style="margin-bottom: 1.5rem;">Directories to find long-term therapy.</p>

            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <a href="https://openpathcollective.org/" target="_blank"
                    style="text-decoration: none; color: inherit;">
                    <div style="padding: 1rem; border: 1px solid #eee; border-radius: 8px; transition: transform 0.2s;">
                        <div style="font-weight: bold; color: var(--primary-color);">Open Path Collective <i
                                class="fa-solid fa-external-link-alt" style="font-size: 0.7rem;"></i></div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">Low-cost therapy ($40-70/session) for
                            those without health insurance.</div>
                    </div>
                </a>

                <a href="https://www.psychologytoday.com/us/therapists" target="_blank"
                    style="text-decoration: none; color: inherit;">
                    <div style="padding: 1rem; border: 1px solid #eee; border-radius: 8px; transition: transform 0.2s;">
                        <div style="font-weight: bold; color: var(--primary-color);">Psychology Today <i
                                class="fa-solid fa-external-link-alt" style="font-size: 0.7rem;"></i></div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">Extensive directory filterable by
                            insurance, gender, and specialty.</div>
                    </div>
                </a>
            </div>
        </div>

        <!-- DIGITAL TOOLKIT -->
        <div class="card">
            <h3><i class="fa-solid fa-leaf" style="color: var(--success-color);"></i> Digital Toolkit</h3>
            <p style="margin-bottom: 1.5rem;">Interactive grounding techniques.</p>

            <div style="display: flex; flex-direction: column; gap: 1rem;">

                <!-- Category 1: Physical Grounding (Teal) -->
                <details style="cursor: pointer;">
                    <summary
                        style="padding: 1rem; background: #e3f2fd; color: #0277bd; border-radius: 8px; font-weight: bold; list-style: none;">
                        <i class="fa-solid fa-person-running" style="margin-right: 0.5rem;"></i> Physical Grounding
                    </summary>
                    <div style="padding: 1rem; margin-top: 5px; border-left: 3px solid #0277bd; background: #f9fbfd;">
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">5-4-3-2-1 Technique</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Acknowledge 5 things you see, 4 you
                                feel, 3 you hear, 2 you smell, 1 you taste.</p>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Box Breathing</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Inhale (4s) â†’ Hold (4s) â†’ Exhale
                                (4s) â†’ Hold (4s).</p>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Ice Shock</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Hold an ice cube in your hand as
                                long as possible. The sensation snaps you to reality.</p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Muscle Relaxation</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Tense your fists/toes tightly for 5
                                seconds, then release instantly. Notice the relief.</p>
                        </div>
                    </div>
                </details>

                <!-- Category 2: Mental Games (Lavender) -->
                <details style="cursor: pointer;">
                    <summary
                        style="padding: 1rem; background: #f3e5f5; color: #7b1fa2; border-radius: 8px; font-weight: bold; list-style: none;">
                        <i class="fa-solid fa-brain" style="margin-right: 0.5rem;"></i> Mental Games
                    </summary>
                    <div style="padding: 1rem; margin-top: 5px; border-left: 3px solid #7b1fa2; background: #fcfbfd;">
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">The Categories Game</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Name 5 items in a category: Movies,
                                Cities, Dog Breeds, Fruits, etc.</p>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Spelling Backwards</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Pick a long word (e.g., "Elephant")
                                and spell it backwards in your head.</p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Room Search</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Find every object in the room that
                                is the color Blue. Now Count them.</p>
                        </div>
                    </div>
                </details>

                <!-- Category 3: Soothing (Rose) -->
                <details style="cursor: pointer;">
                    <summary
                        style="padding: 1rem; background: #fce4ec; color: #c2185b; border-radius: 8px; font-weight: bold; list-style: none;">
                        <i class="fa-solid fa-dove" style="margin-right: 0.5rem;"></i> Soothing & Comfort
                    </summary>
                    <div style="padding: 1rem; margin-top: 5px; border-left: 3px solid #c2185b; background: #fdfafb;">
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Self-Hug</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Wrap arms around yourself and
                                squeeze hard. Rock gently side to side.</p>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Safe Place</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Close eyes. Imagine a place where
                                you feel perfectly safe. What do you smell? Hear?</p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.95rem; margin-bottom: 5px;">Affirmation</h4>
                            <p style="font-size: 0.85rem; color: var(--text-muted);">Repeat: "I am safe right now. This
                                feeling will pass. I am in control."</p>
                        </div>
                    </div>
                </details>

            </div>
        </div>
    </div>
</div>
{% endblock %}